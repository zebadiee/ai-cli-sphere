{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "title": "CT Tool Intent",
    "type": "object",
    "required": [
        "intent",
        "target",
        "confidence",
        "mode"
    ],
    "properties": {
        "intent": {
            "type": "string",
            "enum": [
                "inspect_repo",
                "summarise_logs",
                "analyze_code",
                "plan_action",
                "apply_patch"
            ]
        },
        "target": {
            "type": "string",
            "description": "Abstract target identifier, not a path"
        },
        "patch_content": {
            "type": "string"
        },
        "confidence": {
            "type": "number",
            "minimum": 0.0,
            "maximum": 1.0
        },
        "mode": {
            "type": "string",
            "enum": [
                "reason-only",
                "simulate",
                "propose"
            ]
        },
        "notes": {
            "type": "string"
        }
    },
    "additionalProperties": false
}